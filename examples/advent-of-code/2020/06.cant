;; (Use run.cant to run this.)

(let input (with-input-file ~.read-all data-file))
(let inputs (each ~.split (input .split "\n\n")))

(to (part1)
  (for tally-by ((group inputs))
    (set<-list (chain @group))))

(to (part2)
  (for tally-by ((group inputs))
    (foldl1 (on (x y) (x .intersect y))
            (each ~.range group))))
